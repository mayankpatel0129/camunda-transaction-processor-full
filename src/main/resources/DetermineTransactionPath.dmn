<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" id="Definitions_TransactionRules" name="DetermineTransactionPath" namespace="http://camunda.org/schema/1.0/dmn">
  <decision id="DeterminePath" name="Determine Transaction Path">
    <decisionTable id="DecisionTable_1" hitPolicy="FIRST">
      <input id="Input_TransactionType">
        <inputExpression id="InputExpression_TransactionType" typeRef="string">
          <text>transactionType</text>
        </inputExpression>
      </input>
      <input id="Input_Amount">
        <inputExpression id="InputExpression_Amount" typeRef="double">
          <text>amount</text>
        </inputExpression>
      </input>
      <output id="Output_TaskFlow" name="taskFlow" typeRef="string" />

      <!-- Purchase Transaction Rules -->
      <rule id="Rule_1">
        <inputEntry id="InputEntry_1_1">
          <text>"Purchase"</text>
        </inputEntry>
        <inputEntry id="InputEntry_1_2">
          <text>&gt;= 1000</text>
        </inputEntry>
        <outputEntry id="OutputEntry_1">
          <text>"authorize,parallel:settle"</text>
        </outputEntry>
      </rule>

      <rule id="Rule_2">
        <inputEntry id="InputEntry_2_1">
          <text>"Purchase"</text>
        </inputEntry>
        <inputEntry id="InputEntry_2_2">
          <text>&lt; 1000</text>
        </inputEntry>
        <outputEntry id="OutputEntry_2">
          <text>"authorize,settle"</text>
        </outputEntry>
      </rule>

      <!-- Payment Transaction Rules -->
      <rule id="Rule_3">
        <inputEntry id="InputEntry_3_1">
          <text>"Payment"</text>
        </inputEntry>
        <inputEntry id="InputEntry_3_2">
          <text>&gt;= 500</text>
        </inputEntry>
        <outputEntry id="OutputEntry_3">
          <text>"validate,parallel:post"</text>
        </outputEntry>
      </rule>

      <rule id="Rule_4">
        <inputEntry id="InputEntry_4_1">
          <text>"Payment"</text>
        </inputEntry>
        <inputEntry id="InputEntry_4_2">
          <text>&lt; 500</text>
        </inputEntry>
        <outputEntry id="OutputEntry_4">
          <text>"validate,post"</text>
        </outputEntry>
      </rule>

      <!-- Adjustment Transaction Rules -->
      <rule id="Rule_5">
        <inputEntry id="InputEntry_5_1">
          <text>"Adjustment"</text>
        </inputEntry>
        <inputEntry id="InputEntry_5_2">
          <text>&lt;= -1000</text>
        </inputEntry>
        <outputEntry id="OutputEntry_5">
          <text>"review,parallel:apply"</text>
        </outputEntry>
      </rule>

      <rule id="Rule_6">
        <inputEntry id="InputEntry_6_1">
          <text>"Adjustment"</text>
        </inputEntry>
        <inputEntry id="InputEntry_6_2">
          <text>&gt; -1000</text>
        </inputEntry>
        <outputEntry id="OutputEntry_6">
          <text>"review,apply"</text>
        </outputEntry>
      </rule>

      <!-- Refund Transaction Rules -->
      <rule id="Rule_7">
        <inputEntry id="InputEntry_7_1">
          <text>"Refund"</text>
        </inputEntry>
        <inputEntry id="InputEntry_7_2">
          <text>&lt;= -500</text>
        </inputEntry>
        <outputEntry id="OutputEntry_7">
          <text>"refundValidation,parallel:refundProcess"</text>
        </outputEntry>
      </rule>

      <rule id="Rule_8">
        <inputEntry id="InputEntry_8_1">
          <text>"Refund"</text>
        </inputEntry>
        <inputEntry id="InputEntry_8_2">
          <text>&gt; -500</text>
        </inputEntry>
        <outputEntry id="OutputEntry_8">
          <text>"refundValidation,refundProcess"</text>
        </outputEntry>
      </rule>

      <!-- Chargeback Transaction Rules -->
      <rule id="Rule_9">
        <inputEntry id="InputEntry_9_1">
          <text>"Chargeback"</text>
        </inputEntry>
        <inputEntry id="InputEntry_9_2">
          <text>&gt;= 1000</text>
        </inputEntry>
        <outputEntry id="OutputEntry_9">
          <text>"investigate,parallel:dispute"</text>
        </outputEntry>
      </rule>

      <rule id="Rule_10">
        <inputEntry id="InputEntry_10_1">
          <text>"Chargeback"</text>
        </inputEntry>
        <inputEntry id="InputEntry_10_2">
          <text>&lt; 1000</text>
        </inputEntry>
        <outputEntry id="OutputEntry_10">
          <text>"investigate,dispute"</text>
        </outputEntry>
      </rule>

      <!-- Default Rule for unknown transaction types -->
      <rule id="Rule_Default">
        <inputEntry id="InputEntry_Default_1">
          <text>-</text>
        </inputEntry>
        <inputEntry id="InputEntry_Default_2">
          <text>-</text>
        </inputEntry>
        <outputEntry id="OutputEntry_Default">
          <text>"validate"</text>
        </outputEntry>
      </rule>

    </decisionTable>
  </decision>
</definitions>